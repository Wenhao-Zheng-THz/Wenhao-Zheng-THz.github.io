<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Terahertz Electrodynamics Lab @ CAS AIR</title>
  <meta name="description"
        content="Terahertz Electrodynamics Lab @ CAS AIR (GBA Branch), Guangzhou — ultrafast spectroscopy, on-chip THz platforms, and quantum materials." />

  <style>
    :root{
      --bg:#0a0f1c;
      --text:#e8eeff;
      --muted:#b6c2ea;
      --accent:#4da6ff;
      --accent2:#7c3aed;
      --radius:18px;
      --max:1080px;
      --shadow: 0 18px 40px rgba(0,0,0,.38);
      --line: rgba(255,255,255,.08);
    }
    *{ box-sizing:border-box; }
    html, body { height:100%; }

    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,"Noto Sans",sans-serif;
      color:var(--text);
      background:
        radial-gradient(900px 420px at 15% 0%, rgba(124,58,237,.20), transparent 60%),
        radial-gradient(900px 460px at 85% 10%, rgba(77,166,255,.18), transparent 60%),
        linear-gradient(var(--bg), var(--bg));
      min-height:100vh;
      line-height:1.6;
    }

    a{ color:var(--accent); text-decoration:none; }
    a:hover{ text-decoration:underline; }

    .container{ max-width:var(--max); margin:0 auto; padding:0 20px; }

    /* ===== Nav ===== */
    .nav{
      position:sticky;
      top:0;
      z-index:1000;
      background: rgba(10,15,28,.65);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .nav-inner{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:14px;
      padding:12px 0;
    }
    .brand{
      display:flex;
      flex-direction:column;
      gap:2px;
      font-weight:800;
      letter-spacing:.2px;
    }
    .brand-title{ font-size:15px; }
    .brand-sub{ color:var(--muted); font-weight:650; font-size:12.5px; }

    .menu{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      align-items:center;
      justify-content:flex-end;
    }
    .menu a{
      padding:8px 10px;
      border-radius:12px;
      color:var(--text);
      font-weight:600;
      font-size:14px;
      border:1px solid transparent;
    }
    .menu a:hover{
      background: rgba(77,166,255,.08);
      border-color: rgba(77,166,255,.25);
      text-decoration:none;
    }
    .cta{
      padding:8px 12px !important;
      border:1px solid rgba(77,166,255,.35) !important;
      background: linear-gradient(135deg, rgba(77,166,255,.20), rgba(124,58,237,.15));
    }

    /* ===== Hero ===== */
    .hero{ padding:60px 0 10px; }

    .hero-card{
      background: linear-gradient(180deg, rgba(17,24,39,.70), rgba(15,23,42,.60));
      border:1px solid rgba(255,255,255,.07);
      border-radius:24px;
      box-shadow: var(--shadow);
      padding:40px;
      text-align:center;
      position:relative;
      overflow:hidden;
    }
    .hero-card::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(700px 220px at 12% 18%, rgba(77,166,255,.14), transparent 60%),
        radial-gradient(740px 260px at 86% 10%, rgba(124,58,237,.12), transparent 60%);
      pointer-events:none;
    }
    .hero-content{ position:relative; }

    .subtitle{
      color:var(--muted);
      font-size:14px;
      font-weight:650;
      letter-spacing:.2px;
    }
    h1{
      margin:14px 0 10px;
      font-size:42px;
      line-height:1.1;
    }
    .tagline{
      margin-top:8px;
      color:var(--muted);
      font-size:15px;
      font-weight:650;
    }
    .mission{
      margin-top:18px;
      max-width:820px;
      margin-left:auto;
      margin-right:auto;
      font-size:15px;
      opacity:.95;
    }

    .btn-row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:center;
      margin-top:22px;
    }
    .btn{
      display:inline-block;
      padding:10px 14px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.15);
      background: rgba(255,255,255,.05);
      color:var(--text);
      font-weight:700;
      font-size:14px;
    }
    .btn:hover{ text-decoration:none; filter:brightness(1.05); }
    .btn.primary{
      border-color: rgba(77,166,255,.40);
      background: linear-gradient(135deg, rgba(77,166,255,.20), rgba(124,58,237,.16));
    }

    /* ===== News on Home: 1 column ===== */
    .news{
      padding:28px 0 6px;
    }
    .section-title{
      display:flex;
      justify-content:space-between;
      align-items:flex-end;
      gap:12px;
      margin:0 0 12px;
    }
    .section-title h2{ margin:0; font-size:18px; }
    .section-title .hint{ color:var(--muted); font-size:13px; }

    /* 关键：1列纵向列表 */
    .news-list{
      display:flex;
      flex-direction:column;
      gap:12px;
    }

    .news-item{
      background: rgba(17,24,39,.50);
      border:1px solid rgba(255,255,255,.07);
      border-radius:18px;
      padding:14px 16px;
    }
    .news-top{
      display:flex;
      gap:12px;
      align-items:baseline;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .news-date{
      color: rgba(182,194,234,.85);
      font-size:12px;
      white-space:nowrap;
    }
    .news-title{
      margin:0;
      font-size:15px;
      font-weight:800;
      line-height:1.25;
    }
    .news-text{
      margin:8px 0 0;
      color:var(--muted);
      font-size:13px;
    }
    .news-link{
      margin-top:8px;
      font-size:13px;
      font-weight:700;
    }

    footer{
      margin-top:34px;
      padding:20px 0;
      text-align:center;
      color:var(--muted);
      border-top:1px solid rgba(255,255,255,.06);
      font-size:13px;
    }

    @media (max-width: 980px){
      h1{ font-size:36px; }
    }
    @media (max-width: 520px){
      h1{ font-size:30px; }
      .brand-sub{ display:none; }
    }
  </style>
</head>

<body>

  <div class="nav">
    <div class="container">
      <div class="nav-inner">
        <div class="brand">
          <div class="brand-title">Terahertz Electrodynamics Lab @ CAS AIR</div>
          <div class="brand-sub">Ultrafast THz • On-chip Platforms • Quantum Materials</div>
        </div>
        <div class="menu">
          <a href="index.html">Home</a>
          <a href="research.html">Research</a>
          <a href="people.html">People</a>
          <a href="publications.html">Publications</a>
          <a href="news.html">News</a>
          <a href="join.html">Join</a>
          <a href="contact.html" class="cta">Contact</a>
        </div>
      </div>
    </div>
  </div>

  <div class="hero">
    <div class="container">

      <div class="hero-card">
        <div class="hero-content">
          <div class="subtitle">
            Chinese Academy of Sciences · Aerospace Information Research Institute (GBA Branch), Guangzhou
          </div>

          <h1>Terahertz Electrodynamics Lab<br>@ CAS AIR</h1>

          <div class="tagline">
            Ultrafast spectroscopy, on-chip THz platforms, and quantum materials.
          </div>

          <div class="mission">
            We build stable, quantitative terahertz spectroscopy tools—especially <b>on-chip integrated THz platforms</b>—
            to reveal low-energy electrodynamics, correlations, and nonequilibrium transport in low-dimensional quantum materials.
          </div>

          <div class="btn-row">
            <a class="btn primary" href="research.html">Explore Research</a>
            <a class="btn" href="people.html">Meet the Team</a>
            <a class="btn" href="join.html">Open Positions</a>
          </div>
        </div>
      </div>

      <!-- 首页 News：自动显示最新 10 条 -->
      <section class="news" aria-label="News">
        <div class="section-title">
          <h2>News</h2>
          <div class="hint">Latest 10 updates · <a href="news.html">View all</a></div>
        </div>

        <div id="news-list" class="news-list"></div>
      </section>

    </div>
  </div>

  <footer>
    © <span id="y"></span> Wenhao Zheng Lab · <a href="contact.html">Contact</a>
  </footer>

  <script>
    // 自动年份
    document.getElementById("y").textContent = new Date().getFullYear();

    // 解析 YYYY-MM-DD 为 Date（避免不同浏览器解析差异）
    function parseDateYMD(ymd){
      const m = /^(\d{4})-(\d{2})-(\d{2})$/.exec(ymd || "");
      if(!m) return new Date(0);
      return new Date(Number(m[1]), Number(m[2]) - 1, Number(m[3]));
    }

    // 渲染 news（首页限制前 10 条）
    async function renderHomeNews(){
      const box = document.getElementById("news-list");
      try{
        const res = await fetch("news.json", { cache: "no-store" });
        if(!res.ok) throw new Error("news.json not found");
        let items = await res.json();

        // 按日期从新到旧排序
        items = (items || []).slice().sort((a,b) => parseDateYMD(b.date) - parseDateYMD(a.date));

        // 只取前 10 条
        const top10 = items.slice(0, 10);

        // 空状态
        if(top10.length === 0){
          box.innerHTML = '<div class="news-item"><div class="news-text">No updates yet.</div></div>';
          return;
        }

        // 渲染列表（1列纵向）
        box.innerHTML = top10.map(it => {
          const date = it.date || "";
          const title = it.title || "";
          const text = it.text || "";
          const link = (it.link || "").trim();

          const titleHtml = link
            ? `<a href="${link}">${title}</a>`
            : `${title}`;

          const linkHtml = link
            ? `<div class="news-link"><a href="${link}">Read more →</a></div>`
            : "";

          return `
            <div class="news-item">
              <div class="news-top">
                <div class="news-title">${titleHtml}</div>
                <div class="news-date">${date}</div>
              </div>
              ${text ? `<div class="news-text">${text}</div>` : ""}
              ${linkHtml}
            </div>
          `;
        }).join("");

      }catch(e){
        box.innerHTML =
          `<div class="news-item">
             <div class="news-text"><b>News not loaded.</b> Please add <code>news.json</code> to the repo root.</div>
           </div>`;
      }
    }

    renderHomeNews();
  </script>

</body>
</html>
